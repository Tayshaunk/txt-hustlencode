"use strict";(self.webpackChunkhustlencode_io=self.webpackChunkhustlencode_io||[]).push([[341],{58332:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var a=t(15861),s=t(87757),r=t.n(s),o=t(768),i=t(98235),l=t(99659),c=t(94848),u=t(20454),d=t(22642),v=t(67045),h=t(70616),p=t(13194),g=t(32847),f=t(95512),m=t(1413),x=t(29439),C=t(72791),j=t(39245),Z=t(66579),S=t(42728),k=t(16871),b=t(99963),w={html:"",css:"",js:"",linesOfCode:0};var E=t(46769),H=t(65322),y="EditProfileAbout_container__gUoi1",L="EditProfileAbout_moduleContainer__ErgyI",_=t(80184),A=function(){var e,n,t,s=function(){var e=(0,k.TH)(),n=e.pathname.replace("/","")+"html",t=e.pathname.replace("/","")+"css",s=e.pathname.replace("/","")+"js",o=(0,C.useState)(!1),i=(0,x.Z)(o,2),l=i[0],c=i[1],u=(0,C.useState)(!1),d=(0,x.Z)(u,2),v=d[0],h=d[1],p=(0,C.useState)(w),g=(0,x.Z)(p,2),E=g[0],H=g[1],y=(0,C.useState)(!1),L=(0,x.Z)(y,2),_=L[0],A=L[1],P=(0,C.useState)(!1),W=(0,x.Z)(P,2),I=W[0],O=W[1],U=(0,Z.T)(),V=function(){return U((0,S.kS)())},B=(0,Z.C)(S.PR);(0,C.useEffect)((function(){var e=!0;function o(){return(o=(0,a.Z)(r().mark((function e(a){var o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.$E)(a);case 3:o=e.sent,(localStorage[n]||localStorage[t]||localStorage[s])&&A(!0),H(o),c(!0),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),c(!0),(0,j.d)(e.t0,V);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return e&&B&&function(e){o.apply(this,arguments)}(B.username),function(){e=!1}}),[B]);var D=function(){var e=(0,a.Z)(r().mark((function e(n){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,(0,b.Wh)((null===B||void 0===B?void 0:B._id)||"",n);case 4:t=e.sent,(0,f.HG)(t.message,3e3),h(!1),M(),O(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),h(!1),(0,j.d)(e.t0,V);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}(),G=function(){var e=(0,a.Z)(r().mark((function e(n){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,(0,b.Wh)((null===B||void 0===B?void 0:B._id)||"",n);case 4:t=e.sent,(0,f.HG)(t.message,3e3),h(!1),M(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),h(!1),(0,j.d)(e.t0,V);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}(),M=function(){localStorage.removeItem(n),localStorage.removeItem(t),localStorage.removeItem(s)},N=function(){A(!1)},R=function(){M(),N()};return{value:E,showUnsavedChanges:_,hasChanges:I,isSaving:v,isDoneLoading:l,setHasChanges:O,setIsSaving:h,setValue:H,saveChanges:D,applyUnsavedChanges:function(){var e={html:"",css:"",js:"",linesOfCode:0};localStorage[n]&&""!==localStorage[n]?e.html=localStorage[n]:e.html=(null===E||void 0===E?void 0:E.html)||"",localStorage[t]?e.css=localStorage[t]:e.css=(null===E||void 0===E?void 0:E.css)||"",localStorage[s]?e.js=localStorage[s]:e.js=(null===E||void 0===E?void 0:E.js)||"",H((0,m.Z)({},e)),R()},discardChanges:R,closeModal:N,saveAndExit:G}}(),A=(0,i.Z)(null===(e=s.value)||void 0===e?void 0:e.html,s.setHasChanges,"html"),P=(0,i.Z)(null===(n=s.value)||void 0===n?void 0:n.css,s.setHasChanges,"css"),W=(0,i.Z)(null===(t=s.value)||void 0===t?void 0:t.js,s.setHasChanges,"js"),I=(0,l.Z)(),O=(0,H.Z)(),U=function(){var e=A.getLinesCount()+P.getLinesCount()+W.getLinesCount();s.setValue({html:A.value,css:P.value,js:W.value,linesOfCode:e})},V=function(){var e=(0,a.Z)(r().mark((function e(){var n,t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G()){e.next=7;break}return n=A.getLinesCount()+P.getLinesCount()+W.getLinesCount(),t={html:A.value,css:P.value,js:W.value,linesOfCode:n},e.next=5,s.saveChanges(t);case 5:e.next=8;break;case 7:(0,f.uP)("Please write some code code first.",3e3);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){O.goBack()},D=function(){var e=(0,a.Z)(r().mark((function e(){var n,t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G()){e.next=8;break}return n=A.getLinesCount()+P.getLinesCount()+W.getLinesCount(),t={html:A.value,css:P.value,js:W.value,linesOfCode:n},e.next=5,s.saveAndExit(t);case 5:O.goBack(),e.next=9;break;case 8:(0,f.uP)("Please write some code code first.",3e3);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){return""===A.value.trim()&&""===P.value.trim()&&""===W.value.trim()};return(0,_.jsxs)("div",{className:"".concat(o.Z.pageWrapper," ").concat(y),id:"wrapper",children:[(0,_.jsxs)(d.Z,{backdrop:"static",role:"alertdialog",open:s.showUnsavedChanges,onClose:s.closeModal,size:"xs",children:[(0,_.jsx)(d.Z.Body,{children:(0,_.jsx)("p",{children:"Would you like to restore unsaved changes?"})}),(0,_.jsxs)(d.Z.Footer,{children:[(0,_.jsx)(v.Z,{onClick:s.applyUnsavedChanges,appearance:"primary",children:"Restore Changes"}),(0,_.jsx)(v.Z,{onClick:s.discardChanges,appearance:"subtle",children:"Discard"})]})]}),s.isDoneLoading?(0,_.jsx)(h.Z,{children:(0,_.jsx)(g.Z,{val:s.value,children:I.value?(0,_.jsx)(c.Z,{htmlEditor:A,cssEditor:P,jsEditor:W,exitEditorHandler:B,saveAndExitHandler:D,saveHandler:V,isSaving:s.isSaving,actionLabel:"Save Changes",updateHandler:U,children:s.value?(0,_.jsx)(E.Z,{profileCode:s.value,title:"About"},"aboutWidget"):(0,_.jsx)(p.Z,{style:{height:"100%",width:"100%"},isVisible:!0,fullscreen:!1,theme:"light"})}):(0,_.jsx)(u.Z,{htmlEditor:A,cssEditor:P,jsEditor:W,exitEditorHandler:B,updateHandler:U,saveAndExitHandler:D,saveHandler:V,isSaving:s.isSaving,hasChanges:s.hasChanges,actionLabel:"Save Changes",children:s.value?(0,_.jsx)("div",{className:L,children:(0,_.jsx)(E.Z,{profileCode:s.value,title:"About"},"aboutWidget")}):(0,_.jsx)("div",{})})})}):(0,_.jsx)(p.Z,{isVisible:!0,fullscreen:!1,theme:"dark"})]})}}}]);
//# sourceMappingURL=341.a007609d.chunk.js.map